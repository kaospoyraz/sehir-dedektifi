<!DOCTYPE html>

<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>≈ûehir Dedektifi</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding-bottom: 70px;
        }
        .header {
            background: white;
            padding: 15px 20px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .logo {
            font-size: 20px;
            font-weight: 800;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        .stats { display: flex; gap: 15px; font-weight: 600; }
        .container { padding: 20px; max-width: 800px; margin: 0 auto; }
        .intro {
            background: white;
            padding: 20px;
            border-radius: 16px;
            margin-bottom: 20px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
        }
        .intro h2 { font-size: 22px; margin-bottom: 10px; }
        .intro p { color: #666; line-height: 1.6; }
        .story-card {
            background: white;
            padding: 18px;
            border-radius: 14px;
            margin-bottom: 12px;
            box-shadow: 0 3px 15px rgba(0,0,0,0.1);
            cursor: pointer;
            transition: transform 0.2s;
        }
        .story-card:active { transform: scale(0.98); }
        .story-title { font-size: 17px; font-weight: 700; margin-bottom: 8px; }
        .story-location { color: #666; font-size: 13px; margin-bottom: 6px; }
        .story-points { color: #667eea; font-weight: 700; }
        .difficulty {
            display: inline-block;
            padding: 4px 10px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: 700;
            color: white;
            margin-top: 8px;
        }
        .easy { background: #4CAF50; }
        .medium { background: #FF9800; }
        .hard { background: #f44336; }
        .completed { background: #4CAF50; color: white; padding: 4px 12px; border-radius: 12px; font-size: 11px; margin-top: 8px; display: inline-block; }

```
    .modal {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(0,0,0,0.95);
        z-index: 1000;
        overflow-y: auto;
    }
    .modal.active { display: block; }
    .modal-header {
        padding: 15px 20px;
        display: flex;
        justify-content: flex-end;
        position: sticky;
        top: 0;
        background: rgba(0,0,0,0.8);
        z-index: 10;
    }
    .close-btn {
        background: rgba(255,255,255,0.2);
        border: none;
        color: white;
        width: 40px;
        height: 40px;
        border-radius: 50%;
        font-size: 24px;
        cursor: pointer;
    }
    .modal-content { padding: 20px; color: white; max-width: 700px; margin: 0 auto; }
    .story-image { width: 100%; border-radius: 12px; margin-bottom: 15px; }
    .modal-title { font-size: 24px; font-weight: 800; margin-bottom: 10px; }
    .modal-location { color: #aaa; margin-bottom: 15px; }
    .story-text { line-height: 1.7; font-size: 15px; margin-bottom: 25px; }
    
    .quiz-section {
        background: rgba(255,255,255,0.05);
        padding: 20px;
        border-radius: 12px;
        margin-top: 20px;
    }
    .quiz-title { font-size: 18px; font-weight: 700; margin-bottom: 12px; }
    .quiz-question { font-size: 15px; margin-bottom: 12px; }
    .quiz-option {
        background: rgba(255,255,255,0.1);
        padding: 12px;
        border-radius: 10px;
        margin-bottom: 8px;
        cursor: pointer;
        border: 2px solid transparent;
    }
    .quiz-option:active { opacity: 0.8; }
    .quiz-option.correct { background: rgba(76, 175, 80, 0.4); border-color: #4CAF50; }
    .quiz-option.wrong { background: rgba(244, 67, 54, 0.4); border-color: #f44336; }
    
    .reward {
        text-align: center;
        padding: 30px;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        border-radius: 12px;
        margin-top: 15px;
    }
    .reward-icon { font-size: 50px; margin-bottom: 10px; }
    .reward-text { font-size: 18px; font-weight: 700; }
    
    .bottom-nav {
        position: fixed;
        bottom: 0;
        left: 0;
        right: 0;
        background: white;
        padding: 10px 0;
        box-shadow: 0 -2px 10px rgba(0,0,0,0.1);
        display: flex;
        justify-content: space-around;
        z-index: 100;
    }
    .nav-btn {
        display: flex;
        flex-direction: column;
        align-items: center;
        padding: 8px 20px;
        cursor: pointer;
        border: none;
        background: none;
        border-radius: 12px;
    }
    .nav-btn.active { background: rgba(102, 126, 234, 0.1); }
    .nav-icon { font-size: 22px; margin-bottom: 4px; }
    .nav-label { font-size: 11px; font-weight: 600; color: #666; }
    .nav-btn.active .nav-label { color: #667eea; }
    
    .profile-page { display: none; padding: 20px; color: white; padding-bottom: 80px; }
    .profile-page.active { display: block; }
    .profile-avatar {
        width: 90px;
        height: 90px;
        background: white;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 45px;
        margin: 25px auto;
        box-shadow: 0 5px 20px rgba(0,0,0,0.2);
    }
    .profile-name { text-align: center; font-size: 26px; font-weight: 800; margin-bottom: 8px; }
    .profile-level { text-align: center; font-size: 15px; opacity: 0.8; margin-bottom: 25px; }
    .stats-box {
        background: rgba(255,255,255,0.1);
        padding: 18px;
        border-radius: 14px;
        margin-bottom: 18px;
    }
    .stat-row {
        display: flex;
        justify-content: space-between;
        margin-bottom: 12px;
        font-size: 15px;
    }
    .stat-row:last-child { margin-bottom: 0; }
    .section-title { font-size: 18px; font-weight: 700; margin: 22px 0 12px; }
    .badges-grid {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 12px;
    }
    .badge {
        background: rgba(255,255,255,0.1);
        padding: 18px 10px;
        border-radius: 12px;
        text-align: center;
    }
    .badge.unlocked { background: rgba(255,255,255,0.2); }
    .badge-icon {
        font-size: 34px;
        margin-bottom: 6px;
        filter: grayscale(100%);
        opacity: 0.5;
    }
    .badge.unlocked .badge-icon { filter: none; opacity: 1; }
    .badge-name { font-size: 11px; font-weight: 600; }
</style>
```

</head>
<body>
    <div class="header">
        <div class="logo">üîç ≈ûehir Dedektifi</div>
        <div class="stats">
            <div>‚≠ê <span id="points">0</span></div>
            <div>üèÜ <span id="badges">0</span></div>
        </div>
    </div>

```
<div class="container" id="main">
    <div class="intro">
        <h2>üìç ƒ∞stanbul'un Gizli Hikayeleri</h2>
        <p>≈ûehrin gizemli hikayelerini ke≈üfet, quiz √ß√∂z, puan kazan!</p>
    </div>
    <div id="list"></div>
</div>

<div class="profile-page" id="profile">
    <div class="profile-avatar">üïµÔ∏è</div>
    <div class="profile-name">ƒ∞stanbul K√¢≈üifi</div>
    <div class="profile-level">Seviye 1 - √áƒ±rak Dedektif</div>
    <div class="stats-box">
        <div class="stat-row"><span>Hikayeler:</span> <strong><span id="pStories">0</span>/10</strong></div>
        <div class="stat-row"><span>Puan:</span> <strong><span id="pPoints">0</span></strong></div>
        <div class="stat-row"><span>Rozetler:</span> <strong><span id="pBadges">0</span>/5</strong></div>
    </div>
    <div class="section-title">üèÜ Rozetler</div>
    <div class="badges-grid" id="badgesList"></div>
</div>

<div class="modal" id="modal">
    <div class="modal-header">
        <button class="close-btn" onclick="close()">√ó</button>
    </div>
    <div class="modal-content" id="content"></div>
</div>

<div class="bottom-nav">
    <button class="nav-btn active" onclick="show('main')">
        <div class="nav-icon">üó∫Ô∏è</div>
        <div class="nav-label">Ke≈üfet</div>
    </button>
    <button class="nav-btn" onclick="show('profile')">
        <div class="nav-icon">üë§</div>
        <div class="nav-label">Profil</div>
    </button>
</div>

<script>
    let pts = 0, disc = new Set(), bdg = [
        {n:'ƒ∞lk Ke≈üif',i:'üéØ',u:0,r:1},{n:'5 Hikaye',i:'‚≠ê',u:0,r:5},
        {n:'7 Hikaye',i:'üíé',u:0,r:7},{n:'9 Hikaye',i:'üéì',u:0,r:9},
        {n:'T√ºm√º',i:'üëë',u:0,r:10}
    ];
    const stories = [
        {id:1,t:"Yerebatan Sarnƒ±cƒ±'nƒ±n Medusa Sƒ±rrƒ±",l:"Sultanahmet",d:"medium",i:"https://images.unsplash.com/photo-1541432901042-2d8bd64b4a9b?w=800",s:"Bizans ƒ∞mparatoru Justinianus'un 532 yƒ±lƒ±nda in≈üa ettirdiƒüi bu muhte≈üem sarnƒ±√ßta bir sƒ±r gizli. Sarnƒ±cƒ± ta≈üƒ±yan 336 s√ºtundan ikisinin tabanƒ±nda Medusa ba≈ülarƒ± var. Peki neden? Bir tanesi ters, diƒüeri yan √ßevrilmi≈ü vaziyette. Efsaneye g√∂re, Medusa'nƒ±n bakƒ±≈üƒ±nƒ± kƒ±rƒ±p b√ºy√ºs√ºn√º bozmak i√ßin b√∂yle yerle≈ütirilmi≈ü. Ama ger√ßek ≈üu: Bu s√ºtun ba≈ülarƒ± muhtemelen daha eski bir yapƒ±dan getirilmi≈ü ve in≈üaat malzemesi olarak kullanƒ±lmƒ±≈ü.",q:"Yerebatan Sarnƒ±cƒ± ka√ß yƒ±lƒ±nda in≈üa edildi?",o:["532","632","432","732"],c:0,p:25},
        {id:2,t:"Pera Palas'ƒ±n 411 Numaralƒ± Oda",l:"Beyoƒülu",d:"hard",i:"https://images.unsplash.com/photo-1566073771259-6a8506099945?w=800",s:"Aƒüatha Christie 1926-1932 yƒ±llarƒ± arasƒ±nda her ƒ∞stanbul ziyaretinde bu odada kaldƒ±. Burasƒ± 'Doƒüu Ekspresinde Cinayet' romanƒ±nƒ±n ilham kaynaƒüƒ± oldu. Christie'nin e≈üyalarƒ± arasƒ±nda bir gizli yazƒ± bulundu. Kodlarƒ± √ß√∂zenler, otelin bah√ßesinde gizli bir t√ºnelin olduƒüunu ke≈üfetti!",q:"Aƒüatha Christie hangi romanƒ±nƒ± burada yazarken ilham aldƒ±?",o:["Nil'de Cinayet","Doƒüu Ekspresinde Cinayet","On K√º√ß√ºk Zenci","Cinayet Duyurusu"],c:1,p:40},
        {id:3,t:"ƒ∞stiklal'in Gizli Pasajlarƒ±",l:"Beyoƒülu",d:"easy",i:"https://images.unsplash.com/photo-1524231757912-21f4fe3a7200?w=800",s:"ƒ∞stiklal Caddesi'nde y√ºr√ºrken hi√ß fark ettiniz mi? Caddenin her iki yanƒ±nda onlarca gizli pasaj var. Hristaki Pasajƒ±, Aznavur Pasajƒ±... Bunlar 1800'lerin sonunda Levanten aileler tarafƒ±ndan in≈üa edilmi≈ü l√ºks alƒ±≈üveri≈ü merkezleriydi. En √ºnl√ºs√º √ái√ßek Pasajƒ± - eskiden 'Cit√© de P√©ra' adƒ±yla anƒ±lƒ±rdƒ±.",q:"ƒ∞stiklal Caddesi'ndeki pasajlar ne zaman in≈üa edildi?",o:["1700'ler","1800'ler","1900'ler","2000'ler"],c:1,p:15},
        {id:4,t:"Galata Kulesi'nin Hapishane D√∂nemi",l:"Galata",d:"medium",i:"https://images.unsplash.com/photo-1527838832700-5059252407fa?w=800",s:"Bug√ºn romantik bir seyir terasƒ± olan Galata Kulesi'nin karanlƒ±k bir ge√ßmi≈üi var. 1600'lerde sava≈ü esirleri i√ßin hapishane olarak kullanƒ±ldƒ±. En ilgin√ß hikaye: 1638'de Hezarfen Ahmet √áelebi buradan ah≈üap kanatlarla √úsk√ºdar'a u√ßtu!",q:"Hezarfen Ahmet √áelebi nereye u√ßtu?",o:["Karak√∂y","Emin√∂n√º","√úsk√ºdar","Kadƒ±k√∂y"],c:2,p:30},
        {id:5,t:"Moda ƒ∞skelesi'nin A≈ük Mektuplarƒ±",l:"Kadƒ±k√∂y",d:"easy",i:"https://images.unsplash.com/photo-1578894381163-e72c17f2d45f?w=800",s:"1950'lerde Moda ƒ∞skelesi, ayrƒ± d√º≈üm√º≈ü sevgililerin bulu≈üma noktasƒ±ydƒ±. ƒ∞skelenin ah≈üap payandasƒ±nƒ±n i√ßinde gizli bir posta kutusu vardƒ±. 1977'de iskele yenilenirken bu kutu bulundu. ƒ∞√ßinde 200'den fazla a√ßƒ±lmamƒ±≈ü mektup vardƒ±!",q:"Gizli kutuda ka√ß mektup bulundu?",o:["50'den fazla","100'den fazla","200'den fazla","300'den fazla"],c:2,p:20},
        {id:6,t:"Haydarpa≈üa Garƒ±'nƒ±n Hayalet Treni",l:"Kadƒ±k√∂y",d:"hard",i:"https://images.unsplash.com/photo-1474487548417-781cb71495f3?w=800",s:"1906 yƒ±lƒ±nda Alman m√ºhendisler tarafƒ±ndan in≈üa edilen Haydarpa≈üa Garƒ±'nda bir efsane dola≈üƒ±r. Her yƒ±lƒ±n 29 Ekim gecesi saat 03:00'te hayalet bir tren gelirmi≈ü. 1917'de bir m√ºhimmat treni garda patladƒ±, 40'tan fazla ki≈üi √∂ld√º.",q:"Haydarpa≈üa Garƒ± hangi √ºlkenin m√ºhendisleri tarafƒ±ndan in≈üa edildi?",o:["Fransa","ƒ∞ngiltere","Almanya","ƒ∞talya"],c:2,p:45},
        {id:7,t:"√ái√ßek Pasajƒ±'nƒ±n B√ºy√ºk Yangƒ±nƒ±",l:"Beyoƒülu",d:"medium",i:"https://images.unsplash.com/photo-1414235077428-338989a2e8c0?w=800",s:"1876'da in≈üa edilen Cit√© de P√©ra, ƒ∞stanbul'un en g√∂rkemli pasajƒ±ydƒ±. Ama 1870'lerde b√ºy√ºk bir yangƒ±n √ßƒ±ktƒ±. Yeniden in≈üa edildi ve √ßi√ßek√ßi kadƒ±nlar d√ºkkanlarƒ±nƒ± buraya ta≈üƒ±dƒ±. O g√ºnden beri adƒ± '√ái√ßek Pasajƒ±'.",q:"√ái√ßek Pasajƒ±'nƒ±n orijinal adƒ± neydi?",o:["Cit√© de P√©ra","Passage de Fleurs","Beyoƒülu Pasajƒ±","Galata Pasajƒ±"],c:0,p:25},
        {id:8,t:"Balat'taki Gizli Havra",l:"Balat",d:"hard",i:"https://images.unsplash.com/photo-1609137144813-7d9921338f24?w=800",s:"Balat'ƒ±n dar sokaklarƒ±nda 500 yƒ±llƒ±k bir sƒ±r gizli. Ahrida Sinagogu'nun altƒ±nda gizli bir oda var. 1492'de ƒ∞spanya'dan kovulan Yahudiler deƒüerli e≈üyalarƒ±nƒ± buraya sakladƒ±lar. 1894 depreminde oda ortaya √ßƒ±ktƒ±!",q:"ƒ∞spanyol Yahudileri ƒ∞stanbul'a hangi yƒ±lda geldi?",o:["1392","1492","1592","1692"],c:1,p:50},
        {id:9,t:"Topkapƒ± Sarayƒ±'nƒ±n Gizli T√ºnelleri",l:"Sultanahmet",d:"hard",i:"https://images.unsplash.com/photo-1583020899958-9011dbfe7f7d?w=800",s:"Topkapƒ± Sarayƒ±'nƒ±n altƒ±nda 3 km uzunluƒüunda gizli t√ºnel aƒüƒ± var. Padi≈üahlarƒ±n acil ka√ßƒ±≈ü yolu. Bir t√ºnel Ayasofya'ya, diƒüeri denize iniyor. 1950'lerde bazƒ± t√ºneller ke≈üfedildi ama tam haritasƒ± hala bilinmiyor.",q:"Gizli t√ºnellerin toplam uzunluƒüu?",o:["1 km","2 km","3 km","5 km"],c:2,p:45},
        {id:10,t:"Kƒ±z Kulesi'nin Ger√ßek Hikayesi",l:"√úsk√ºdar",d:"easy",i:"https://images.unsplash.com/photo-1567269475957-0fea5f5f4c5e?w=800",s:"Herkes yƒ±lan efsanesini bilir. Ama Kƒ±z Kulesi'nin ger√ßek hikayesi daha ilgin√ß. M√ñ 410'da Atinalƒ±lar buraya ilk kuleyi in≈üa etti. Osmanlƒ± d√∂neminde deniz feneri, karantina hastanesi oldu. 1700'lerde zengin ailelerin kƒ±zlarƒ± burada m√ºzik dersi alƒ±rdƒ±. ƒ∞≈üte adƒ± oradan geliyor!",q:"Kƒ±z Kulesi ilk kez kim tarafƒ±ndan in≈üa edildi?",o:["Romalƒ±lar","Atinalƒ±lar","Bizanslƒ±lar","Osmanlƒ±lar"],c:1,p:15}
    ];

    function load(){
        const p=localStorage.getItem('p'),d=localStorage.getItem('d'),b=localStorage.getItem('b');
        if(p)pts=+p;
        if(d)disc=new Set(JSON.parse(d));
        if(b)bdg=JSON.parse(b);
    }
    function save(){
        localStorage.setItem('p',pts);
        localStorage.setItem('d',JSON.stringify([...disc]));
        localStorage.setItem('b',JSON.stringify(bdg));
    }
    function upd(){
        document.getElementById('points').textContent=pts;
        document.getElementById('badges').textContent=bdg.filter(b=>b.u).length;
        document.getElementById('pStories').textContent=disc.size;
        document.getElementById('pPoints').textContent=pts;
        document.getElementById('pBadges').textContent=bdg.filter(b=>b.u).length;
    }
    function rend(){
        document.getElementById('list').innerHTML=stories.map(s=>`
            <div class="story-card" onclick="open(${s.id})">
                <div class="story-title">${s.t}</div>
                <div class="story-location">üìç ${s.l}</div>
                <div class="story-points">‚≠ê ${s.p} Puan</div>
                <div class="difficulty ${s.d}">${s.d=='easy'?'üü¢ Kolay':s.d=='medium'?'üü° Orta':'üî¥ Zor'}</div>
                ${disc.has(s.id)?'<div class="completed">‚úÖ Tamamlandƒ±</div>':''}
            </div>
        `).join('');
        document.getElementById('badgesList').innerHTML=bdg.map(b=>`
            <div class="badge ${b.u?'unlocked':''}">
                <div class="badge-icon">${b.i}</div>
                <div class="badge-name">${b.n}</div>
            </div>
        `).join('');
    }
    function open(id){
        const s=stories.find(x=>x.id==id),done=disc.has(id);
        document.getElementById('content').innerHTML=`
            <img src="${s.i}" class="story-image">
            <div class="difficulty ${s.d}">${s.d=='easy'?'üü¢ Kolay':s.d=='medium'?'üü° Orta':'üî¥ Zor'} ‚Ä¢ ${s.p} Puan</div>
            <h1 class="modal-title">${s.t}</h1>
            <div class="modal-location">üìç ${s.l}</div>
            <div class="story-text">${s.s}</div>
            ${!done?`
                <div class="quiz-section" id="quiz">
                    <div class="quiz-title">üß© Quiz'i √á√∂z!</div>
                    <div class="quiz-question">${s.q}</div>
                    ${s.o.map((o,i)=>`<div class="quiz-option" onclick="check(${id},${i})">${o}</div>`).join('')}
                </div>
            `:`<div class="reward"><div class="reward-icon">‚úÖ</div><div class="reward-text">Tamamlandƒ±!</div></div>`}
        `;
        document.getElementById('modal').classList.add('active');
    }
    function check(id,idx){
        const s=stories.find(x=>x.id==id),opts=document.querySelectorAll('.quiz-option');
        if(idx==s.c){
            opts[idx].classList.add('correct');
            setTimeout(()=>{
                disc.add(id);
                pts+=s.p;
                save();
                upd();
                rend();
                bdg.forEach(b=>{if(!b.u&&disc.size>=b.r){b.u=1;notify(`üéâ ${b.i} ${b.n}`);}});
                document.getElementById('quiz').innerHTML=`<div class="reward"><div class="reward-icon">üéâ</div><div class="reward-text">+${s.p} Puan!</div></div>`;
            },1000);
        }else{
            opts[idx].classList.add('wrong');
            opts[s.c].classList.add('correct');
            setTimeout(()=>{
                document.getElementById('quiz').innerHTML=`<div class="reward" style="background:rgba(244,67,54,0.3)"><div class="reward-icon">üòî</div><div class="reward-text">Yanlƒ±≈ü!</div></div>`;
                setTimeout(close,2000);
            },1500);
        }
    }
    function notify(t){
        const d=document.createElement('div');
        d.style='position:fixed;top:80px;left:50%;transform:translateX(-50%);background:white;color:#333;padding:15px 25px;border-radius:25px;box-shadow:0 5px 20px rgba(0,0,0,0.3);z-index:9999;font-weight:600;';
        d.textContent=t;
        document.body.appendChild(d);
        setTimeout(()=>d.remove(),3000);
    }
    function show(p){
        const m=document.getElementById('main'),pr=document.getElementById('profile'),btns=document.querySelectorAll('.nav-btn');
        btns.forEach(b=>b.classList.remove('active'));
        if(p=='main'){m.style.display='block';pr.classList.remove('active');btns[0].classList.add('active');}
        else{m.style.display='none';pr.classList.add('active');btns[1].classList.add('active');}
    }
    function close(){document.getElementById('modal').classList.remove('active');}
    
    load();
    rend();
    upd();
</script>
```

</body>
</html>
